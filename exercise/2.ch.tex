\section{第2章综合习题}

\begin{exercise}[2.C.1]
    证明: 函数 $f(x) = \begin{cases} 0, & x \text{ 为有理数}, \\ x, & x \text{ 为无理数} \end{cases}$ 仅在点 $x=0$ 处连续.
\end{exercise}

\begin{solution}
    设 $x_0 \in \mathbb{R}$, 则对任意 $\varepsilon > 0$, 存在有理数列 $\{r_n\}$ 与无理数列 $\{s_n\}$, 使得 $\lim_{n \to \infty} r_n = x_0, \lim_{n \to \infty} s_n = x_0$. 因此
    $$ \lim_{n \to \infty} f(r_n) = \lim_{n \to \infty} 0 = 0, \quad \lim_{n \to \infty} f(s_n) = \lim_{n \to \infty} s_n = x_0. $$
    当 $x_0 \ne 0$ 时, $\lim_{n \to \infty} f(r_n) = 0, \lim_{n \to \infty} f(s_n) = x_0$, 故 $\lim_{x \to x_0} f(x)$ 不存在, 因此 $f(x)$ 在 $x=x_0$ 处不连续.

    当$x_0 = 0$时,对任意$\varepsilon > 0$,取$\delta = \varepsilon$,则当$|x-0| < \delta$时,有$|f(x)-f(0)| = |f(x)| \les |x| < \delta = \varepsilon$.因此$\lim_{x \to 0} f(x) = f(0) = 0$,即$f(x)$在$x=0$处连续.
\end{solution}

\begin{exercise}[2.C.2]
    设 $x_1, x_2, \dots, x_n \in [0,1]$, 记 $f(x) = \frac{|x-x_1|+\dots+|x-x_n|}{n}$, 证明: 存在 $x_0 \in [0,1]$, 使得 $f(x_0) = \frac{1}{2}$.
\end{exercise}

\begin{solution}
    设 $g(x) = f(x) - \frac{1}{2}$, 则 $g(x)$ 在 $[0,1]$ 上连续, 且
    \begin{align*}
        f(0) + f(1) & = \frac{|0-x_1|+\dots+|0-x_n|}{n} + \frac{|1-x_1|+\dots+|1-x_n|}{n} \\
                    & = \frac{(x_1 + (1-x_1)) + \dots + (x_n + (1-x_n))}{n} = 1.
    \end{align*}
    因此 $g(0) + g(1) = f(0) + f(1) - 1 = 0$. 则$g(0) g(1) = -(g(0))^2 \les 0$. 由介值定理知, 存在 $x_0 \in [0,1]$, 使得 $g(x_0) = 0$, 即 $f(x_0) = \frac{1}{2}$.
\end{solution}

\begin{exercise}[2.C.3]
    证明: 函数 $\frac{a_1}{x-\lambda_1} + \frac{a_2}{x-\lambda_2} + \frac{a_3}{x-\lambda_3}$ (其中 $a_1, a_2, a_3 > 0$, 且 $\lambda_1 < \lambda_2 < \lambda_3$) 在 $(\lambda_1, \lambda_2)$ 与 $(\lambda_2, \lambda_3)$ 内各有一个零点.
\end{exercise}

\begin{solution}
    [解]
    仅证明 $(\lambda_1, \lambda_2)$ 内有一个零点, $(\lambda_2, \lambda_3)$ 内的证明类似.

    由$\frac{a_2}{x-\lambda_2} + \frac{a_3}{x-\lambda_3}$在$\left[\lambda_1, \frac{\lambda_1+\lambda_2}{2}\right]$上连续,
    因此有界,即存在$M_1 > 0$,使得对任意$x \in \left[\lambda_1, \frac{\lambda_1+\lambda_2}{2}\right]$有$|\frac{a_2}{x-\lambda_2} + \frac{a_3}{x-\lambda_3}| \les M$.

    又由$\lim_{x \to \lambda_1^+} \frac{a_1}{x-\lambda_1} = +\infty$,因此存在$\delta_1 \in \left( 0, \frac{\lambda_2 - \lambda_1}{2} \right)$,使得对任意$x \in (\lambda_1, \lambda_1 + \delta_1)$有$\frac{a_1}{x-\lambda_1} > M_1$.因此,存在$x_1 \in (\lambda_1, \lambda_1 + \delta_1) \subset \left(\lambda_1, \frac{\lambda_1+\lambda_2}{2}\right)$,使得
    $$ \frac{a_1}{x_1-\lambda_1} + \frac{a_2}{x_1-\lambda_2} + \frac{a_3}{x_1-\lambda_3} = \frac{a_1}{x_1-\lambda_1} + \left( \frac{a_2}{x_1-\lambda_2} + \frac{a_3}{x_1-\lambda_3} \right) > M_1 - M_1 = 0. $$

    由$\frac{a_1}{x-\lambda_1} + \frac{a_3}{x-\lambda_3}$在$\left[\frac{\lambda_1+\lambda_2}{2}, \lambda_2\right]$上连续,
    因此有界,即存在$M_2 > 0$,使得对任意$x \in \left[\frac{\lambda_1+\lambda_2}{2}, \lambda_2\right]$有$\left|\frac{a_1}{x-\lambda_1} + \frac{a_3}{x-\lambda_3}\right| \les M_2$.

    又由$\lim_{x \to \lambda_2^-} \frac{a_2}{x-\lambda_2} = -\infty$,因此存在$\delta_2 \in \left( 0, \frac{\lambda_2 - \lambda_1}{2} \right)$,使得对任意$x \in (\lambda_2 - \delta_2, \lambda_2)$有$\frac{a_2}{x-\lambda_2} < -M_2$.因此,存在$x_2 \in (\lambda_2 - \delta_2, \lambda_2) \subset \left(\frac{\lambda_1+\lambda_2}{2}, \lambda_2\right)$,使得
    $$ \frac{a_1}{x_2-\lambda_1} + \frac{a_2}{x_2-\lambda_2} + \frac{a_3}{x_2-\lambda_3} = \left( \frac{a_1}{x_2-\lambda_1} + \frac{a_3}{x_2-\lambda_3} \right) + \frac{a_2}{x_2-\lambda_2} < M_2 - M_2 = 0. $$

    综上,存在$x_1, x_2 \in (\lambda_1, \lambda_2)$,使得对于函数$f(x) = \frac{a_1}{x-\lambda_1} + \frac{a_2}{x-\lambda_2} + \frac{a_3}{x-\lambda_3}$有$f(x_1) > 0, f(x_2) < 0$.由介值定理知,存在$x_0 \in (x_1, x_2) \subset (\lambda_1, \lambda_2)$,使得$f(x_0) = 0$.

    同时由于$\frac{a_1}{x-\lambda_1}, \frac{a_2}{x-\lambda_2}, \frac{a_3}{x-\lambda_3}$在$(\lambda_1, \lambda_2)$上单调递减,因此$f(x)$在$(\lambda_1, \lambda_2)$上单调递减.因此,零点$x_0$唯一.
\end{solution}

\begin{exercise}[2.C.4]
    设 $f(x)$ 是一个多项式, 则必存在一点 $x_0$, 使得 $|f(x_0)| \les |f(x)|$ 对任意实数 $x$ 成立.
\end{exercise}

\begin{solution}
    设 $f(x) = a_n x^n + a_{n-1} x^{n-1} + \dots + a_1 x + a_0$, 其中 $a_n \ne 0, n \ges 1$. 则
    $$ |f(x)| = |x|^n \left| a_n + \frac{a_{n-1}}{x} + \dots + \frac{a_1}{x^{n-1}} + \frac{a_0}{x^n} \right|. $$
    因为 $\lim_{x \to \infty} \left( a_n + \frac{a_{n-1}}{x} + \dots + \frac{a_1}{x^{n-1}} + \frac{a_0}{x^n} \right) = a_n$, 因此存在 $M > 0$, 使得当 $|x| > M$ 时, 有
    $$ \left| a_n + \frac{a_{n-1}}{x} + \dots + \frac{a_1}{x^{n-1}} + \frac{a_0}{x^n} \right| > \frac{|a_n|}{2}. $$
    由$\lim_{x \to \infty} \frac{|a_n|}{2} |x|^n = +\infty$,因此$\exists X > M$,使得当$|x| > X$时,有$\frac{|a_n|}{2} |x|^n > |f(0)|$.而由$|f(x)|$在$[-X,X]$上连续,故由最值性知,存在$x_0 \in [-X,X]$,使得$|f(x_0)| = \inf \{ f(x): x \in [-X,X] \}$.特别的,对任意$x \in [-X,X]$有$|f(x_0)| \les |f(0)|$.因此对于$|x| > X$时,有$|f(x)| > \frac{|a_n|}{2}|x|^n \ges |f(x_0)|$.综上,对任意$x \in \mathbb{R}$有$|f(x_0)| \les |f(x)|$.
\end{solution}

\begin{exercise}[2.C.5]
    设 $f(x)$ 在区间 $[0,1]$ 上连续, 且 $f(0)=f(1)$. 证明: 对任意正整数 $n$, 在区间 $\left[0, 1-\frac{1}{n}\right]$ 中有一点 $\xi$, 使得 $f(\xi) = f\left(\xi+\frac{1}{n}\right)$.
\end{exercise}

\begin{solution}
    设 $g(x) = f(x) - f\left(x+\frac{1}{n}\right)$, 则 $g(x)$ 在 $\left[0, 1-\frac{1}{n}\right]$ 上连续, 且
    \begin{align*}
        g(0) & = f(0) - f\left(\frac{1}{n}\right), \\
        g\left(\frac{1}{n}\right) & = f\left(\frac{1}{n}\right) - f\left(\frac{2}{n}\right), \\
        & \dots \\
        g\left(\frac{n-1}{n}\right) & = f\left(\frac{n-1}{n}\right) - f(1) = f\left(\frac{n-1}{n}\right) - f(0).
    \end{align*}
    因此$\frac{1}{n} \left( g(0) + g\left(\frac{1}{n}\right) + \dots + g\left(\frac{n-1}{n}\right) \right) = 0$.则$g(0), g\left(\frac{1}{n}\right), \dots, g\left(\frac{n-1}{n}\right)$中至少有一个非正, 另一个非负. 由介值定理知, 存在 $\xi \in \left[0, 1-\frac{1}{n}\right]$, 使得 $g(\xi) = 0$, 即 $f(\xi) = f\left(\xi+\frac{1}{n}\right)$.
\end{solution}

\begin{exercise}[2.C.6]
    证明: 存在一个实数 $x$, 满足 $x^5 + \frac{\cos x}{1+x^2+\sin^2 x} = 72$.
\end{exercise}

\begin{solution}
    \begin{align*}
        f(3) &= 3^5 + \frac{\cos 3}{1+3^2+\sin^2 3} \ges 243 - \frac{1}{1+3^2-1} > 0,\\
        f(-3) &= (-3)^5 + \frac{\cos (-3)}{1+(-3)^2+\sin^2 (-3)} \les -243 + \frac{1}{1+(-3)^2-1} < 0.
    \end{align*}
    由介值定理知, 存在 $x \in [-3,3]$, 使得 $f(x) = 72$.
\end{solution}

\begin{exercise}[2.C.7]
    若 $f(x)$ 在 $[a, +\infty)$ 上连续, 且 $\lim_{x \to +\infty} f(x)$ 存在, 则 $f(x)$ 在 $[a, +\infty)$ 上或者有最大值, 或者有最小值.
\end{exercise}

\begin{solution}
    记$$S = \sup \{ f(x): x \in [a, +\infty) \}, \ I = \inf \{ f(x): x \in [a, +\infty) \}, \ L = \lim_{x \to +\infty} f(x).$$
    \begin{enumerate}
        \item 若$S > L$,取$\varepsilon = \frac{S-L}{2} > 0$,则存在$X > a$,使得对任意$x > X$有$|f(x)-L| < \varepsilon$,即$L - \varepsilon < f(x) < L + \varepsilon$.因此,对任意$x > X$有$f(x) < L + \varepsilon = \frac{S+L}{2} < S$.因此$$\sup \{ f(x): x \in [a, X] \} = S,$$由闭区间上连续函数的最值性,知存在$x_0 \in [a,X]$,使得$f(x_0) = S$.
        \item 若$I < L$,取$\varepsilon = \frac{L-I}{2} > 0$,则存在$X > a$,使得对任意$x > X$有$|f(x)-L| < \varepsilon$,即$L - \varepsilon < f(x) < L + \varepsilon$.因此,对任意$x > X$有$f(x) > L - \varepsilon = \frac{I+L}{2} > I$.因此$$\inf \{ f(x): x \in [a, X] \} = I,$$由闭区间上连续函数的最值性,知存在$x_0 \in [a,X]$,使得$f(x_0) = I$.
        \item 若$S = L = I$,则$f(x) \equiv L$,即任取$x_0 \in [a,+\infty)$,均有$f(x_0) = L$同时为最大值和最小值.
    \end{enumerate}
    \begin{remark}
        一个只有极限没有最大值或最小值的例子是$f(x) = \arctan x, x \in [0,+\infty)$.
    \end{remark}
\end{solution}

\begin{exercise}[2.C.8]
    设函数 $f(x)$ 定义在区间 $[a,b]$ 上, 满足条件: $a \les f(x) \les b$ (对任意 $x \in [a,b]$), 且对 $[a,b]$ 中任意的 $x,y$ 有 $|f(x)-f(y)| \les k|x-y|$. 这里 $k$ 是常数, $0<k<1$. 证明:
    \begin{enumerate}
        \item 存在唯一的 $x_0 \in [a,b]$, 使得 $f(x_0)=x_0$.
        \item 任取 $x_1 \in [a,b]$, 并定义数列 $\{x_n\}: x_{n+1} = f(x_n), n=1,2,\dots$, 则 $\lim_{n \to \infty} x_n = x_0$.
        \item 给出一个在实轴上的连续函数, 使得对任意 $x \ne y$ 有 $|f(x)-f(y)| < |x-y|$, 但方程 $f(x)-x=0$ 无解.
    \end{enumerate}
\end{exercise}

\begin{solution}
    \begin{enumerate}
        \item 先证明$f(x)$在$[a,b]$上连续:
              设$x_0 \in [a,b]$,对任意$\ve > 0$,取$\delta = \frac{\ve}{k} > 0$,则对任意$x \in [a,b]$且$|x-x_0| < \delta$,有
              $$|f(x)-f(x_0)| \les k|x-x_0| < k\delta = \ve.$$

              设 $g(x) = f(x) - x$, 则 $g(x)$ 在 $[a,b]$ 上连续, 且 $g(a) = f(a) - a \ges 0, g(b) = f(b) - b \les 0$. 故由介值定理知, 存在 $x_0 \in [a,b]$, 使得 $g(x_0) = 0$, 即 $f(x_0) = x_0$. 又因对任意 $x,y \in [a,b]$ 有
              $$|g(x)-g(y)| = |f(x)-f(y)-(x-y)| \ges ||x-y| - |f(x)-f(y)|| \ges (1-k)|x-y|,$$
              故若存在$x_1 \ne x_0$使得$f(x_1) = x_1$,则
              $$(1-k)|x_1-x_0| \les |g(x_1)-g(x_0)| = |f(x_1)-f(x_0)-(x_1-x_0)| = 0,$$
              即$x_1 = x_0$. 因此$x_0$唯一.
        \item \begin{enumerate}
                  \item 若$x_2 = x_1$,则由$f(x_1) = x_1$以及(1)中所述的唯一性,知$x_2 = x_1 = x_0$,则$x_3 = f(x_2) = f(x_0) = x_0$,依此类推,有$x_n = x_0$对任意$n \ges 1$成立.因此$\lim_{n \to \infty} x_n = x_0$.
                  \item 若$x_2 \ne x_1$,对任意 $n \ges 1$ 有
                        $$|x_{n+1} - x_n| = |f(x_n) - f(x_{n-1})| \les k|x_n - x_{n-1}| \les \dots \les k^{n-1}|x_2 - x_1|.$$
                        因此, 对任意 $m > n \ges 1$ 有
                        \begin{align*}
                            |x_m - x_n| & \les |x_m - x_{m-1}| + |x_{m-1} - x_{m-2}| + \dots + |x_{n+1} - x_n| \\
                                        & \les (k^{m-2} + k^{m-3} + \dots + k^{n-1})|x_2 - x_1|                \\
                                        & \les \frac{k^{n-1}}{1-k}|x_2 - x_1|.
                        \end{align*}
                        $\forall \ve > 0, \exists N = \left\lceil \log_k \frac{(1-k)\ve}{|x_2 - x_1|} \right\rceil$, 当$m,n > N$时, 有
                        $$|x_m - x_n| \les \frac{k^{n-1}}{1-k}|x_2 - x_1| < \ve.$$
                        故数列$\{x_n\}$为Cauchy列, 故存在$\lim_{n \to \infty} x_n:=a$存在. 又因$f(x)$在$[a,b]$上连续,对递推式两侧取极限,有
                        $$a = \lim_{n \to \infty} x_{n+1} = \lim_{n \to \infty} f(x_n) = f\left( \lim_{n \to \infty} x_n \right) = f(a).$$
                        由(1)中所述的唯一性,知$a = x_0$. 因此$\lim_{n \to \infty} x_n = x_0$.
              \end{enumerate}
        \item 一个不太严谨的思考过程:我想要构造一个满足$|f(x)-f(y)| < |x-y|$的函数, 我考虑了导数的绝对值小于1的函数, 同时$f(x)-x$无解要求了$f(x)$应该是贴在$y=x$的(不妨设为)上方的, 于是我考虑了$f(x) = x + g(x)$, 其中(也假设$g(x)$可导),如果$-1 < -g'(x) < 0$,那就能保证$f(x)$的导数满足要求.(当然上述思路中,对$g(x)$的选取过程都只是必要的)
              $$f(x) = x + \frac{1}{1 + \e^{x}}.$$
              \begin{enumerate}
                  \item 满足$|f(x)-f(y)| < |x-y|$:
                        设$x > y$,则
                        \begin{align*}
                            |f(x)-f(y)| & = f(x)-f(y) = (x-y) + \frac{1}{1+\e^x} - \frac{1}{1+\e^y} \\
                                        & = (x-y) - \frac{\e^x - \e^y}{(1+\e^x)(1+\e^y)}            \\
                                        & < x-y = |x-y|.
                        \end{align*}
                  \item 方程$f(x)-x=0$无解:
                        由$f(x)-x = \frac{1}{1+\e^x} > 0$,知$f(x)-x=0$无解.
              \end{enumerate}
    \end{enumerate}
\end{solution}

\begin{exercise}[2.C.9]
    证明: 对任意正整数 $n$, 方程 $x^n+x^{n-1}+\dots+x=1$ 恰有一个正根 $x_n$; 进一步证明数列 $\{x_n\}$ ($n \ges 1$) 收敛, 并求其极限.
\end{exercise}

\begin{solution}
    设$f(x) = x^n + x^{n-1} + \dots + x - 1$, 则$f(x)$在$(0,1)$上连续, 且$f(0) = -1 < 0, f(1) = n > 0$. 故由介值定理知, 存在$x_n \in (0,1)$, 使得$f(x_n) = 0$. 若$y_n \in (0,1)$且$y_n \ne x_n$, 则
    由\begin{align*}
        x^n - y^n         & = (x-y)(x^{n-1} + x^{n-2}y + \dots + y^{n-1}) \\
        x^{n-1} - y^{n-1} & = (x-y)(x^{n-2} + x^{n-3}y + \dots + y^{n-2}) \\
                          & \vdots                                        \\
        x - y             & = (x-y)
    \end{align*}
    可知
    \begin{align*}
        0 & = f(x_n) - f(y_n)                                                                                                      \\
          & = (x_n - y_n)(x_n^{n-1} + x_n^{n-2}y_n + \dots + y_n^{n-1} + x_n^{n-2} + x_n^{n-3}y_n + \dots + y_n^{n-2} + \dots + 1) \\
          & = (x_n - y_n)\left( \sum_{i=0}^{n-1} \sum_{j=0}^{i} x_n^j y_n^{i-j} \right).
    \end{align*}
    因为$x_n, y_n \in (0,1)$, 故$\sum_{i=0}^{n-1} \sum_{j=0}^{i} x_n^j y_n^{i-j} > 0$, 因此$x_n - y_n = 0$, 即$x_n = y_n$. 因此$x_n$唯一.

    下证明数列$\{x_n\}$单调递减:
    若$x_{n+1} \ges x_n$, 由$x_n > 0$
    $$1 = x_{n+1}^{n+1} + x_{n+1}^n + \dots + x_{n+1} \ges x_n^{n+1} + x_n^n + \dots + x_n > x_n^n + x_n^{n-1} + \dots + x_n = 1,$$故矛盾,因此$x_{n+1} < x_n$. 单调减有$0$为下界, 故数列$\{x_n\}$收敛, 考虑$$1-x_n^n = (1-x_n)(1+x_n+x_n^2+\dots+x_n^{n-1}) = 1-x_n,$$
    在两边同时取极限之前,我们还得先考虑$\lim_{n \to \infty} x_n^n$.由于$1 = x_2 + x_2^2 \ges x_2 \cdot x_2 + x_2^2 = 2x_2^2 \Rightarrow x_2 \les \frac{1}{\sqrt{2}} < 1$, 对$x_n^n < x_2^n$, 由夹逼定理知$\lim_{n \to \infty} x_n^n = 0$. 因此,对数列$\{x_n\}$取极限,有
    $$1 = \lim_{n \to \infty} 1 - x_n^n = \lim_{n \to \infty} 1 - x_n \Rightarrow \lim_{n \to \infty} x_n = 1.$$
\end{solution}

\begin{exercise}[2.C.10]
    设 $a<b, f(x)$ 在 $[a,b]$ 上连续, 且对任意 $x \in [a,b)$ 存在 $y \in (x,b)$ 使得 $f(y)>f(x)$. 求证: $f(b)>f(a)$.
\end{exercise}

\begin{solution}
    考虑$f(x)$在$[a,b]$上的最大值$M = \max \{ f(x): x \in [a,b] \}$, 由闭区间上连续函数的最值性,知存在$x_0 \in [a,b]$,使得$f(x_0) = M$. 若$x_0 \ne b$,则由题设条件,存在$y \in (x_0,b)$,使得$f(y) > f(x_0) = M$,矛盾.因此$x_0 = b$,即$f(b) = M$.又因$f(a) \les M$,若$f(b) = f(a)$,则$f(x) \equiv f(a)$,与题设条件矛盾.因此$f(b) > f(a)$.
\end{solution}

\newpage